---
- name: "Bootstrapping Machine"
  hosts: localhost
  connection: local
  ignore_errors: true
  vars:
    apps: "{{ lookup('file', '../apps.json') | from_json | community.general.json_query(ansible_distribution) }}"
    dotfiles: "{{ lookup('file', '../dotfiles.json') | from_json | community.general.json_query(ansible_distribution) }}"
    extensions: "{{ lookup('file', '../dotfiles/vscode/extensions.txt').splitlines() }}"
    PWD: "{{ lookup('env', 'PWD') }}"
  roles:
    - role: "apps"
    - role: "symlink"
    - role: "vscode"
